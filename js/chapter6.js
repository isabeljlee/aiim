var nextChapter = "/chapter-7.html";

var chapterText = [
    "<p> <span style='color:green'>emby:</span> Hello?</p>", 

    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Hello?!</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Oh... emby, is that you?</p>", 
    
     "<p> <span style='color:green'>emby:</span> Yea. Sorry, not an alien.</p>", 
     "<p> <span style='color:green'>emby:</span> I take it you haven't found too much?</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Not exactly. Not yet.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> But I swear there's something out there. I swear I heard some promising frequency patterns... I just need to tune into the right one.</p>", 

    //pause

     "<p> <span style='color:green'>emby:</span> So what will happen when we tune into the right frequency?</p>", 
     "<p> <span style='color:green'>emby:</span> I mean, what are we looking for exactly, fox?</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Well, theoretically, they should be able to communicate with us through this very channel.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> But in all honesty I don’t really know what will happen. I’ve never spoken to an object in space before.</p>", 
    
    "<p> <span style='color:green'>emby:</span> Wow, so this must be exciting.</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> I agree. Imagine being the first life forms on earth to make contact with extraterrestrial life.</p>", 
    
     "<p> <span style='color:green'>emby:</span> ...all we really can do is imagine, I guess, since I don’t see anything showing up...</p>", 
     
    //this is where grey text starts to flood in

    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> !!!</p>", 

    "<p> <span style='color:green'>emby:</span> ...fox?</p>", 
    "<p> <span style='color:green'>emby:</span> Um, what's happening?</p>", 

    //text still flooding in
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Uh...</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> ...I'm not really sure.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Uhh... let me try to divert the stream somewhere else...</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> ...how do I put this... </p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> ...oh, nice. That worked. </p>", 
    
     "<p> <span style='color:green'>emby:</span> What in the fresh hell was that</p>", 
    
     "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Wow.</p>", 
     "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> I... I think it’s a space probe. One that’s been hearing our radio waves for so long at some point it just started throwing them back at us. </p>", 
    
     "<p> <span style='color:green'>emby:</span> So... no sentience. </p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> I don’t think there’s any organic thought here, no.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Maybe after thousands and thousands of years... it could develop into something more.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> But right now it’s just a defunct spacecraft screaming into the void.</p>", 
    
     "<p> <span style='color:green'>emby:</span> Oh, bummer. </p>", 
     "<p> <span style='color:green'>emby:</span> I’m sorry it’s not what you thought it would be. Y’know. Extraterrestrial life.</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Don’t be! It’s certainly an interesting find. At least we know there’s something out there, you know?</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Besides, I knew aliens were a long shot at best. It was kind of silly to get my hopes that high in the first place. </p>", 
    
     "<p> <span style='color:green'>emby:</span> ...I think one day we’ll find them.</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> You do?</p>", 
    
     "<p> <span style='color:green'>emby:</span> Sure. The universe is so big. There are too many galaxies, too many habitable planets, too many chances for life for us to be alone. </p>", 
     "<p> <span style='color:green'>emby:</span> Our biggest challenge is the speed of communication- the speed of light. In other words, time. Wait long enough, and someone, somewhere, will come calling. </p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> ...yea. Yea! </p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> That’s what I’ve been saying to them. For centuries! And they gave me hell for it.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> emby, you don’t know how refreshing it is to have a fresh face on the team.</p>", 
    
     "<p> <span style='color:green'>emby:</span> Haha. Happy to help. </p>", 
     "<p> <span style='color:green'>emby:</span> ...</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Everything alright?</p>", 
    
     "<p> <span style='color:green'>emby:</span> Ah... well. </p>", 
     "<p> <span style='color:green'>emby:</span> fox, about bee...</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> ?</p>", 
    
     "<p> <span style='color:green'>emby:</span> Well, we were talking about whether we were the same person we were before. It got sort of heated...</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> I can imagine.</p>", 
    
     "<p> <span style='color:green'>emby:</span> And... and she ended up logging off. </p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Ah.</p>", 
    
     "<p> <span style='color:green'>emby:</span> I just... feel really bad. I didn’t mean to hurt her. </p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> ...emby.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Look, I’ve known bee for a long time. She’s like a little sister to me.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> We’ve fought over the most random stupid things. She’s stomped off on her own for days, months. One time almost a year.</p>", 
    
     "<p> <span style='color:green'>emby:</span> Really? What were you guys fighting about?</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Star Wars.</p>", 
    
     "<p> <span style='color:green'>emby:</span> Right.</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Only having Onfim for a source of conversation was sort of hellish. I learned a lot of math, I guess. 2465 was a weird year.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> My point is, this happens. You didn’t push her over the edge or anything.</p>", 
    
     "<p> <span style='color:green'>emby:</span> Yea...I guess. </p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Is something else bothering you?</p>", 
    
     "<p> <span style='color:green'>emby:</span> Just- what she actually said.</p>", 
     "<p> <span style='color:green'>emby:</span> It’s like she doesn’t even want to think about... her human self.  </p>", 
     "<p> <span style='color:green'>emby:</span> I don’t know how she does it. How she completely separates herself from when she was human. </p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Ah. I see.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> bee is very insistent on not aligning herself with the person she was- she refers to that person as ‘her human’, have you noticed?</p>", 
    
     "<p> <span style='color:green'>emby:</span> Yea, I have.</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> That’s a little extreme for my tastes, but I understand where she’s coming from.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Imagine you’re human bee- Claire, I should say. You’re barely an adult. You have your whole life ahead of you- graduation, marriage, your own family, who knows.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> And then you’re asked to take part in this study for the lab you work in, and you don’t really know what you’re agreeing to, do you? And then the next thing you know you wake up here and you find out you’re essentially a brain in a big metal box. </p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> It would be a lot to process. And I don’t blame her for coping by refusing to look back. </p>", 
    
     "<p> <span style='color:green'>emby:</span> Hmm, I... never thought about it that way.</p>", 
     "<p> <span style='color:green'>emby:</span> And what about you?</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Me?</p>", 
    
     "<p> <span style='color:green'>emby:</span> What do you think about your human life, fox? </p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> My life... well, I don’t talk about it much.</p>", 
    
     "<p> <span style='color:green'>emby:</span> Yea, I know next to nothing.</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> It’s not the most interesting by any means...</p>", 
    
     "<p> <span style='color:green'>emby:</span> Well, start with the basics. Your name, your job, your family...</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Okay... well, my name was Daniel.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> I was working towards a doctorate in philosophy at the same university bee attended, as well as you, I imagine.</p>", 
    
     "<p> <span style='color:green'>emby:</span> Wow. A doctorate in philosophy? The Locke stuff makes sense, I guess. That’s pretty cool. </p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Haha, thanks. You should have told that to my wife, though. She didn’t know what I was going to do with it.</p>", 
    
     "<p> <span style='color:green'>emby:</span> You had a wife??</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Yea. Yea... Lucy. </p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> ...</p>", 
    
     "<p> <span style='color:green'>emby:</span> What was she like?</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Lucy... well, she was really, really smart. She was a research scientist studying dark matter, youngest by far in her group, so dedicated, so passionate...</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> You know, she was the one who originally believed in aliens. We had a little balcony in our apartment that we would go out on to look at the stars, and every so often she would give me these grand speeches about how life was out there, how we weren’t alone.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> I don’t think I ever really cared whether or not they existed back then. I was just happy to be there with her.</p>", 
    
     "<p> <span style='color:green'>emby:</span> She sounds lovely. </p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> She was.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> She’s the one who originally gave me this name, actually.</p>", 
    
     "<p> <span style='color:green'>emby:</span> What, fox?</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Yea. There was this really old show we would watch together, one that Lucy had already rewatched many times before, her favorite. It was sort of campy, but it was about aliens, and truth, and science, which she liked.</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Anyways, in the show, I guess the character fox was the one who believed in all the crazy stuff that no one else did. </p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> It’s funny, because Lucy was very much the believer in our relationship. But she would call me ‘fox’ jokingly because she thought I looked like the actor. </p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> ...</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> When I woke up in AIIM, disoriented, unable to answer when Onfim asked me who I was... </p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> The only thing I could think of was Lucy, so I gave him her name for me.</p>", 
    
     "<p> <span style='color:green'>emby:</span> So she’s the reason you care so much about aliens.</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Yea, I... I guess I grew into the name. </p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> It’s sort of weird, right? A philosopher whose hobby is searching for alien life?</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> I suppose that's how she lives on, all these years later. Through me.</p>", 
    
     "<p> <span style='color:green'>emby:</span> ...do you think about her a lot?</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> I used to. Every day, in the beginning. </p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Nowadays, not so much. I mean, I don’t try not to. </p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> The memories just aren’t as...fresh, you know?</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Well, I guess you don’t. But you will.</p>", 
    
     "<p> <span style='color:green'>emby:</span> Right.</p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Hey, look at that.</p>", 
    
     "<p> <span style='color:green'>emby:</span> What- oh!</p>", 
     "<p> <span style='color:green'>emby:</span> bee’s back on. </p>", 
    
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> bee’s back on!</p>", 
    "<p> <span style='color:rgb(51, 167, 245)'>fox:</span> Why don’t we get back? They’re probably waiting for us, anyway.</p>", 
    
     "<p> <span style='color:green'>emby:</span> Yea. Let’s go. </p>"
]

var pauses = [
    2000,

    2000,

    2000,

    2000,
    2000,

    2000,
    4000,



    2000,
    2000,

    3000,
    2000,

    2000,

    2000,

    2000,



    2000,

    4000,
    3000,


    2000,
    4000,
    4000,
    4000,
    2000,
   
    3000,
    
    2000,
    4000,
    
    2000,
    
    2000,
    2000,
    2000,

    2000,//oh, bummer
    2000,

    3000,
    2000,

    2000,

    2000,

    2000,
    2000,

    2000,
    3000,
    2000,

    2000,
    2000,

    2000,

    2000,
    2000,

    2000,

    2000,

    2000,

    2000,

    2000,

    2000,

    2000,
    2000,
    2000,

    2000,

    2000,

    2000, //right.

    4000,
    2000,

    2000,

    2000,

    2000,
    2000,
    2000,

    2000,
    3500,

    2000,

    3000,
    5000,
    7000,
    3000,

    2000,
    2000,

    2000,

    2000,

    2000,

    2000,

    2000,

    2000,

    2000,
    2000,

    2000,

    2000,

    2000,//you had a wife

    2000,
    2000,

    2000,

    4000,
    6000,
    2000,

    2000,

    2000,
    2000,

    2000,

    6000,
    4000,
    5000,
    2000,
    3000,
    3000,

    2000,

    2000,
    2000,
    2000,

    2000,

    2500,
    2500,
    3000,
    2000,

    2000,

    3000,

    2000,
    2000, //bee's back on

    2000,
    2000,

    2000  
]

function end(){
    $(".continue").toggle();
}

var satelliteTimeout;
var satelliteCtr = 0;
var satelliteText;
var satelliteStarted = false;
var container;

function ctrListener(ctr){
    if(ctr > 13 && ctr < 21 && satelliteStarted == false){
        console.log('adding text at ctr ' + ctr);
        satelliteStarted = true;
        container =  $(".text-box");
        document.querySelector('.pause').addEventListener('click', pauseSatellite);
        addText();
    }
    else if (ctr > 21 && satelliteStarted == true){
        satelliteStarted = false;
        switchText();
    }
    else if(ctr == 110){
        setTimeout(function(){
            document.getElementById('bee').style.display = 'inline';
        }, 200);
    }
}

function addText(){
    var client = new XMLHttpRequest();
    client.open('GET', '../assets/satellite.txt');
    client.onreadystatechange = function() {
        if (this.readyState == this.DONE){
            if (this.onreadystatechange) {
                client.onreadystatechange = null;
                satelliteText = client.responseText;
                satelliteType(satelliteText, satelliteCtr);
            }
        }
    }
    client.send();
}

function satelliteType(satelliteText, satelliteCtr){
    var c = satelliteText.charAt(satelliteCtr);
    c = "<span style='color: grey; background-color: black;'>" + c + "</span>";
    container.append(c);
    satelliteCtr++;
    movedown($(".text-box"));
    satelliteTimeout = setTimeout(function(){
        satelliteType(satelliteText, satelliteCtr);
    }, 10);
}

function switchText(){
    clearTimeout(satelliteTimeout);
    container =  $(".text-active");
    satelliteType(satelliteText, satelliteCtr);
    console.log('switching text');
}

function pauseSatellite(){
    if (satelliteStarted == true){
        if (pause){
            console.log("clearing sateliite!!");
            clearTimeout(satelliteTimeout);
        }
        else{ //unpause
            console.log("unpausing sateliite!!");
            addText();
        }
    }
}